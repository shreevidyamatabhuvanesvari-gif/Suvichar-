<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>सुविचार – Voice Highlight</title>

<style>
body{
  margin:0;
  background:linear-gradient(180deg,#1a1a1a,#2c0f0f);
  font-family: "Noto Sans Devanagari", system-ui;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  color:#fff;
}

.container{
  width:90%;
  max-width:600px;
  background:rgba(0,0,0,0.6);
  border-radius:20px;
  padding:20px;
  box-shadow:0 0 30px rgba(255,120,120,0.4);
}

.play-btn{
  display:block;
  margin:10px auto 20px;
  background:#ff6b6b;
  border:none;
  color:#fff;
  padding:12px 22px;
  border-radius:25px;
  font-size:18px;
  cursor:pointer;
}

.quotes{
  height:320px;
  overflow:hidden;
  position:relative;
}

.line{
  text-align:center;
  margin:12px 0;
  opacity:0.5;
  transition:all 0.4s;
}

.line.active{
  opacity:1;
  color:#ffdada;
  font-size:18px;
}

.word{
  padding:2px 4px;
}

.word.active{
  background:#ffb3b3;
  color:#000;
  border-radius:4px;
}
</style>
</head>

<body>
<div class="container">
  <button class="play-btn" onclick="start()">▶️ Play</button>
  <div class="quotes" id="quotes"></div>
</div>

<script>
const lines = [
"जीवन की सबसे बड़ी शक्ति ज्ञान नहीं, विवेक होता है।",
"ज्ञान दिशा देता है, पर विवेक गति को नियंत्रित करता है।",
"जो सीखता है वह आगे बढ़ता है, जो समझता है वह टिकता है।",
"हर सही उत्तर बोलना आवश्यक नहीं, कभी मौन भी उत्तर होता है।",
"सत्य हमेशा कठोर नहीं होता, पर झूठ कभी कोमल नहीं होता।",
"जो स्वयं को जीत ले, वही संसार को समझ पाता है।",
"तकनीक साधन है, चेतना लक्ष्य है।",
"भावनाओं को दबाना नहीं, समझना परिपक्वता है।",
"शक्ति का मूल्य नियंत्रण में नहीं, उत्तरदायित्व में है।",
"जो प्रश्न पूछना छोड़ देता है, वही सीखना छोड़ देता है।",
"समय से पहले निष्कर्ष, सबसे महंगी भूल होती है।",
"मनुष्य का मूल्य उसके विचारों से तय होता है।",
"स्वतंत्र सोच अनुशासन से जन्म लेती है।",
"ज्ञान संग्रह नहीं, संस्कार बनना चाहिए।",
"सही मार्ग अक्सर शांत होता है।",
"जो बदलने से डरता है, वही स्थिर नहीं रह पाता।",
"बुद्धि बिना करुणा के अधूरी है।",
"प्रगति का अर्थ सही दिशा है।",
"हर चेतना सम्मान चाहती है।",
"सार्थक वही है जो सक्षम बनाए।"
];

const box = document.getElementById("quotes");
let voices = [];

speechSynthesis.onvoiceschanged = () => {
  voices = speechSynthesis.getVoices();
};

function render(){
  box.innerHTML="";
  lines.slice().reverse().forEach((l,i)=>{
    const div=document.createElement("div");
    div.className="line";
    div.dataset.index=i;
    l.split(" ").forEach(w=>{
      const span=document.createElement("span");
      span.className="word";
      span.textContent=w+" ";
      div.appendChild(span);
    });
    box.appendChild(div);
  });
}

render();

async function start(){
  speechSynthesis.cancel();
  const female = voices.find(v=>v.lang.includes("hi") && v.name.toLowerCase().includes("female"))
              || voices.find(v=>v.lang.includes("hi"))
              || voices[0];

  const lineEls=[...document.querySelectorAll(".line")];

  for(let i=lineEls.length-1;i>=0;i--){
    const line=lineEls[i];
    lineEls.forEach(l=>l.classList.remove("active"));
    line.classList.add("active");

    const words=[...line.querySelectorAll(".word")];
    for(let w of words){
      words.forEach(x=>x.classList.remove("active"));
      w.classList.add("active");

      const utter=new SpeechSynthesisUtterance(w.textContent);
      utter.voice=female;
      utter.rate=0.85;
      utter.pitch=1.2;

      speechSynthesis.speak(utter);
      await waitForEnd(utter);
    }
  }
}

function waitForEnd(u){
  return new Promise(res=>u.onend=res);
}
</script>
</body>
</html>
